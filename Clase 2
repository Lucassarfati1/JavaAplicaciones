package com.educacionit.modelos;

import java.util.Calendar;

public class Fecha {
	//atributos de la clase fecha
	int dia,mes,anio;
	public  Fecha(int dia, int mes, int anio) {
		this.dia=dia;
		this.mes=mes;
		this.anio=anio;
		if(!fechaCorrecta()) {
			Calendar fechasistema=Calendar.getInstance();
			this.dia=fechasistema.get(Calendar.DAY_OF_MONTH);
			this.mes=fechasistema.get(Calendar.MONTH);
			this.anio=fechasistema.get(Calendar.YEAR);
		}
	}
	//utilizamos sobrecarga de metodos constructores
	public  Fecha (int d) {
		this.dia=d;

	}
	public Fecha(int dia, int mes) {
		this.dia=dia;
		this.mes=mes;
	}
	//sobrecarga de metodos(no constructores)
	public void asignarfecha() {
		//este metodo asigna la fecha del sistema
		Calendar fechasistema=Calendar.getInstance();
		this.dia=fechasistema.get(Calendar.DAY_OF_MONTH);
		this.mes=fechasistema.get(Calendar.MONTH)+1;
		this.anio=fechasistema.get(Calendar.YEAR);
	}
	public void asignarfecha(int d) {
		Calendar fechasistema=Calendar.getInstance();
		this.dia=d;
		this.mes=fechasistema.get(Calendar.MONTH);
		this.anio=fechasistema.get(Calendar.YEAR);
	}
	public void asignarfecha(int d, int m) {
		Calendar fechasistema=Calendar.getInstance();
		this.dia=d;
		this.mes=m;
		this.anio=fechasistema.get(Calendar.YEAR);
	}
	//este metodo valida que la fecha ingresada sea correcta
	public boolean fechaCorrecta() {
		boolean diaCorrecto,mesCorrecto,anyoCorrecto;
		anyoCorrecto = (anio>0);
		mesCorrecto = ((mes>=1)&&(mes<=12));
		switch	(mes) {
		case 2://febrero
			if(esBisiesto())
			diaCorrecto = (dia>=1 && dia<=29);
			else{
				diaCorrecto =(dia>=1&& dia<=28);
			}
			break;
		case 4:
		case 6:
		case 9:
		case 11:
			diaCorrecto = (dia>=1 && dia<=30);
			break;	
		default:
			diaCorrecto=(dia>=1&&dia<=31);
			break;
		}
	return diaCorrecto && mesCorrecto && anyoCorrecto;
	}
	public boolean esBisiesto() {
		return ((anio%4 == 0) && (anio%100 !=0)) || (anio%400 == 0);
	}
	
	public String toString() {
		return "Fecha [dia=" + dia + ", mes=" + mes + ", anio=" + anio + "]";
	}

}
